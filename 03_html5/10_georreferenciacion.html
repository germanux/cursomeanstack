<html>

<head>
    <title>Georrefenenciando</title>
    <script type="text/javascript">
        function queMeGeorreferencio() {
            if (navigator.geolocation) {
                var opciones = {
                    timeout: 6000,
                    maximumAge: 600000,
                    enableHighAccuracy: true
                }
                navigator.geolocation.getCurrentPosition(
                    alRecibirGEO, errorEnGEO, opciones);
            } else {
                alert("No soporto la localización");
            }
        }

        function alRecibirGEO(posicion) {
            var latitude = posicion.coords.latitude;
            var longitude = posicion.coords.longitude;
            //alert("latitude: " + posicion.coords.latitude +
            //    ", longitud: " + posicion.coords.longitude +
            //    ", ALTITUD: " + posicion.coords.altitude);
            var imagenMapa = "http://maps.google.com/maps/api/staticmap?" +
                "sensor=false&" +
                "center=" + latitude + "," + longitude + "&" +
                "zoom=14&" + "size=600x400&" +
                "markers=color:red|label:P|" + latitude + "," + longitude;
            var mapita = document.getElementById("mapita");
            mapita.innerHTML = "<img src='" + imagenMapa + "'>";
        }

        function errorEnGEO(error) {
            alert("Error codigo: " + error.message);
        }
    </script>
</head>

<body>
    <iframe src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d12171.780880736878!2d-3.75302145!3d40.299175250000005!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1ses!2ses!4v1483473025853" width="400" height="400" frameborder="0" style="border:0"
        allowfullscreen>
    </iframe>
    <input type="button" value="Georreferenciar" onclick="queMeGeorreferencio()" />
    <div id="mapita"></div>
</body>

</html>